<!DOCTYPE html>
<html>
  <head>
    <title>スライド資料</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <style type="text/css">
      @import url(https://fonts.googleapis.com/css?family=Ubuntu+Mono:400,700,400italic);

      body { font-family: "arial", sans-serif; margin: 0; padding: 0; }
      
      /* --- メニュー画面用のスタイル --- */
      #menu-screen {
        display: none; /* デフォルトは非表示 */
        height: 100vh;
        background-color: #f0f4f8;
        flex-direction: column;
        justify-content: center;
        align-items: center;
      }
      #menu-screen h1 { color: #006cb4; font-size: 2.5rem; margin-bottom: 2rem; }
      .menu-list { list-style: none; padding: 0; }
      .menu-list li { margin: 1rem 0; }
      .menu-button {
        display: inline-block;
        padding: 1rem 3rem;
        background-color: #006cb4;
        color: white;
        text-decoration: none;
        font-size: 1.5rem;
        border-radius: 8px;
        transition: background 0.3s;
        box-shadow: 0 4px 6px rgba(0,0,0,0.1);
      }
      .menu-button:hover { background-color: #005086; transform: translateY(-2px); }

      /* --- スライド用のスタイル --- */
      /* 画像サイズ制御（前回の内容） */
      .remark-slide-content img {
        max-width: 100%;
        max-height: 450px;
        display: block;
        margin: 0 auto;
        object-fit: contain;
      }
      /* Remarkの共通スタイルは省略可能ですが、既存のまま残します */
      .remark-code, .remark-inline-code { font-family: "Ubuntu Mono"; }
    </style>
  </head>
  <body>

    <div id="menu-screen">
      <h1>【ゼロから学ぶ】Auth0 で体験する OAuth 2.0 入門</h1>
      <ul class="menu-list">
        <li><a href="?deck=slides" class="menu-button">Client Credential Flow</a></li>
      </ul>
    </div>

    <script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
    
    <script type="text/javascript">
      document.addEventListener("DOMContentLoaded", function() {
        // 1. URLパラメータを取得
        const params = new URLSearchParams(window.location.search);
        const deckName = params.get('deck'); // 'day1' or 'day2' or null

        const menuScreen = document.getElementById('menu-screen');

        if (!deckName) {
          // 2. パラメータがない場合 -> メニューを表示
          menuScreen.style.display = 'flex';
          document.title = "メニュー | スライド資料";
        } else {
          // 3. パラメータがある場合 -> Remarkを実行
          const sourceFile = '/src/' + deckName + '-dist.md';
          
          // ファイル存在チェックはJSでは難しいため、ロード失敗時のハンドリングはRemarkに任せる
          var slideshow = remark.create({
            sourceUrl: sourceFile,
            highlightStyle: "monokai",
            highlightLines: true
          });
        }
      });
    </script>
  </body>
</html>
